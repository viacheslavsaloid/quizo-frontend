<div id="contacts" class="page-layout simple left-sidebar inner-sidebar inner-scroll">
  <!-- HEADER -->
  <div
    class="header accent p-16 p-sm-24"
    fxLayout="column"
    fxLayoutAlign="start"
    fxLayout.gt-xs="row"
    fxLayoutAlign.gt-xs="space-between center"
  >
    <!-- APP TITLE -->
    <div fxLayout="row" fxLayoutAlign="start center">
      <button
        mat-icon-button
        class="sidebar-toggle mr-12"
        fxHide.gt-sm
        (click)="toggleSidebar('contacts-main-sidebar')"
      >
        <mat-icon>menu</mat-icon>
      </button>

      <div class="logo" fxLayout="row" fxLayoutAlign="start center">
        <mat-icon class="logo-icon mr-16" [@animate]="{ value: '*', params: { delay: '50ms', scale: '0.2' } }"
          >account_box
        </mat-icon>
        <span class="logo-text h1" [@animate]="{ value: '*', params: { delay: '100ms', x: '-25px' } }">
          Contacts
        </span>
      </div>
    </div>
    <!-- / APP TITLE -->

    <!-- SEARCH -->
    <div class="ml-sm-32" fxLayout="row" fxLayoutAlign="center center" fxFlex>
      <div class="search-wrapper mt-16 mt-sm-0">
        <app-fuse-table-search-bar [searchInput]="searchInput"></app-fuse-table-search-bar>
      </div>
    </div>
    <!-- / SEARCH -->
  </div>
  <!-- / HEADER -->

  <!-- SELECTED BAR -->
  <app-fuse-table-selected-bar
    class="accent-600"
    *ngIf="hasSelectedContacts"
    [@slideInTop]
  ></app-fuse-table-selected-bar>
  <!-- / SELECTED BAR -->

  <!-- CONTENT -->
  <div class="content">
    <!-- SIDEBAR -->
    <fuse-sidebar class="sidebar" name="contacts-main-sidebar" position="left" lockedOpen="gt-sm">
      <!-- SIDEBAR CONTENT -->
      <div class="content" fusePerfectScrollbar>
        <app-fuse-table-side-bar
          [list]="list"
          (changed)="onFilterChange($event)"
          [@animate]="{ value: '*' }"
        ></app-fuse-table-side-bar>
      </div>
      <!-- / SIDEBAR CONTENT -->
    </fuse-sidebar>
    <!-- / SIDEBAR -->

    <!-- CENTER -->
    <div class="center p-24 pb-56 pr-sm-92" fusePerfectScrollbar>
      <!-- CONTENT -->
      <div class="content">
        <app-fuse-table #table [rows]="contacts$ | async" [columns]="columns" [limit]="10" [count]="25">
          <ng-template #expandedRow let-row="row">
            <div class="expanded" fxLayout="row" fxLayoutAlign="start center">
              <span class="title">{{ 'TABLE.CONTACTS.COMPANY' | translate }}</span>
              <span class="description">{{ row.company }}</span>
            </div>
            <div class="expanded" fxLayout="row" fxLayoutAlign="start center">
              <span class="title">{{ 'TABLE.CONTACTS.NAME' | translate }}</span>
              <span class="description">{{ row.name }}</span>
            </div>
            <div class="expanded" fxLayout="row" fxLayoutAlign="start center">
              <span class="title">{{ 'TABLE.CONTACTS.ID' | translate }}</span>
              <span class="description">{{ row.id }}</span>
            </div>
          </ng-template>
        </app-fuse-table>
      </div>
      <!-- / CONTENT -->
    </div>
    <!-- / CENTER -->
  </div>
  <!-- / CONTENT-->
</div>

<!-- ADD CONTACT BUTTON -->
<button
  mat-fab
  class="accent"
  id="add-contact-button"
  (click)="onClick()"
  aria-label="add contact"
  [@animate]="{ value: '*', params: { delay: '300ms', scale: '.2' } }"
>
  <mat-icon>person_add</mat-icon>
</button>
<!-- / ADD CONTACT BUTTON -->

<ng-template #nameCell let-row="row">
  <a href="javascript:void(0)" (click)="onContactClick(row)">{{ row.name }}</a>
</ng-template>

<ng-template #jobCell let-row="row">
  <mat-chip color="accent" selected>{{ row.jobTitle }}</mat-chip>
</ng-template>

<ng-template #arrowCell let-row="row" let-expanded="expanded">
  <a
    href="javascript:void(0)"
    [class.datatable-icon-right]="!expanded"
    [class.datatable-icon-down]="expanded"
    title="Expand/Collapse Row"
    (click)="toggleExpandRow(row)"
  >
  </a>
</ng-template>
